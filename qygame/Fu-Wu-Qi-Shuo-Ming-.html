<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>服务器说明 (游戏)</title>

<meta name="description" content="服务器说明 (游戏)">
<meta name="keywords" content="服务器说明 (游戏)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="server.html" rel="up" title="server">
<link href="Dai-Ma-Jia-Gou-.html" rel="next" title="代码架构">
<link href="Fu-Wu-Qi-Jia-Gou-.html" rel="prev" title="服务器架构">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="https://www.gnu.org/software/emacs/manual.css">


</head>

<body lang="en">
<div class="section" id="g_t_670d_52a1_5668_8bf4_660e">
<div class="header">
<p>
Next: <a href="Dai-Ma-Jia-Gou-.html" accesskey="n" rel="next">代码架构</a>, Previous: <a href="Fu-Wu-Qi-Jia-Gou-.html" accesskey="p" rel="prev">服务器架构</a>, Up: <a href="server.html" accesskey="u" rel="up">server</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<hr>
<span id="Fu-Wu-Qi-Shuo-Ming-"></span><h3 class="section">3.3 服务器说明</h3>

<table>
<thead><tr><th>服务器名字</th><th>处理范围</th><th>有状态</th><th>状态量</th><th>业务多线程</th><th>业务多线程原因</th><th>备注</th></tr></thead>
<tr><td>center</td><td>路由</td><td>n</td><td></td><td>n</td><td></td><td></td></tr>
<tr><td>db</td><td>数据库代理</td><td>n</td><td></td><td>y</td><td>database操作耗时</td><td></td></tr>
<tr><td>gate</td><td>网关</td><td>y</td><td>map[gid, uid]</td><td>n</td><td>无业务逻辑</td><td></td></tr>
<tr><td>logon</td><td>登录</td><td>n</td><td></td><td>n</td><td></td><td></td></tr>
<tr><td>lobby</td><td>大厅</td><td>n</td><td></td><td>n</td><td></td><td></td></tr>
<tr><td>game</td><td>查询, 创建, 加入 房间</td><td>n</td><td></td><td>n</td><td></td><td>加载了房卡场与金币场的配置文件</td></tr>
<tr><td>match</td><td>比赛场服务器</td><td>y</td><td>match自身数据stage_index等</td><td>n</td><td></td><td></td></tr>
<tr><td></td><td></td><td></td><td>match_manager有map&lt;int,match&gt;</td><td></td><td></td><td></td></tr>
<tr><td>room</td><td>游戏房间的具体处理</td><td>y</td><td>房间数据</td><td>n</td><td></td><td></td></tr>
<tr><td>rank</td><td>排行榜</td><td>y</td><td>rank_manager有map&lt;int,rank&gt;</td><td>n</td><td></td><td></td></tr>
<tr><td>redis</td><td>维护redis数据</td><td>n</td><td></td><td>n</td><td></td><td></td></tr>
<tr><td>task</td><td>任务</td><td>y</td><td>task_manager有map&lt;int,task&gt;</td><td>n</td><td></td><td></td></tr>
<tr><td>chat</td><td>聊天服务器</td><td>n</td><td></td><td>n</td><td></td><td>ready to write</td></tr>
<tr><td>club</td><td>俱乐部服务器</td><td>n</td><td></td><td>n</td><td></td><td>ready to write</td></tr>
<tr><td>client</td><td>模拟client测试</td><td>y</td><td>ugmanager有map&lt;gid,uid&gt;</td><td>n</td><td></td><td></td></tr>
</table>

<div class="example">
<pre class="example">什么时候使用业务多线程
当业务逻辑的处理时间耗时较久的时候, 使用业务多线程
</pre></div>


<div class="example">
<pre class="example">业务多线程优点 是加快了速度
业务多线程缺点 编码复杂(增加了出错概率)
</pre></div>

</div>



</body>
</html>
